# 200429_W7D2_Efficient frontier(ch3마무리)



## 가중치 계산

![1588129585620](assets/1588129585620.png)





4개의 주식이 가장 효율적인 가중치를 계산함.









![1588129606552](assets/1588129606552.png)





![1588129658329](assets/1588129658329.png)





lambda x 가 [x1,x2,x3,x4]의 배열



var이 ![1588129697825](assets/1588129697825.png)



![1588129924422](assets/1588129924422.png)



cons는 제약조건 constraint

x0는 초기값 (0,0,0,0)도 가능









## 결과 값

전체 :

![1588130147303](assets/1588130147303.png)

##### 결과 가중치 x

##### 이 x 배열을 빼내는 것이 가장 중요함.

![1588130127649](assets/1588130127649.png)







분산은 fun

![1588130210125](assets/1588130210125.png)



분산식

![1588130239363](assets/1588130239363.png)







## 기대수익률 계산



![1588130549116](assets/1588130549116.png)







우리가 찾은 값은?

![1588130807377](assets/1588130807377.png)



기대수익률 0.07에서의 **가장 최적화된 값**(가장 왼쪽)







이러한 최적값들의 모음을 Efficient frontier 라 한다.

![1588130940202](assets/1588130940202.png)









## 타겟수익률

![1588132173113](assets/1588132173113.png)





0.09,0.092,0.095의 타겟 수익률을 설정하고 계산한 결과





## 그래프 그리기-Efficient frontier





![1588132207051](assets/1588132207051.png)



L=30을 줌





![1588132220945](assets/1588132220945.png)









결과 : 

![1588132241448](assets/1588132241448.png)







## 숏세일이 없는 Efficient frontier

![1588133902663](assets/1588133902663.png)



![1588133913792](assets/1588133913792.png)



![1588133924639](assets/1588133924639.png)







결과 :



![1588133937309](assets/1588133937309.png)